"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[1375],{93501:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var l=o(48103),i=function(){var e=this,t=e._self._c;return t("el-card",[t("el-row",{attrs:{gutter:10}},[t("el-col",{staticClass:"text-center",attrs:{span:18}},[t("div",{staticClass:"img-div"},[t("el-image",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:["flex flex-justify-center",e.url?"":"flex-items-center bg-light"],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",fit:"fit",src:e.url,"preview-src-list":[e.url]}},[t("div",{staticClass:"text-center",attrs:{slot:"error"},on:{click:function(t){e.showUploadPictrueDialog=!0}},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline text-warmgray fs-1"}),t("div",[e._v("无开屏图片")])])]),t("el-button",{staticClass:"mt-3",attrs:{round:"",type:"info",size:"mini"}},[e._v(e._s(e.optionsForm.second)+"s跳过")])],1),t("el-button",{staticClass:"mt-4",attrs:{type:"primary",disabled:e.loading},on:{click:function(t){e.showUploadPictrueDialog=!0}}},[e._v(e._s(e.url?"换 图":"上 传"))])],1),t("el-col",{attrs:{span:6}},[t("h4",[e._v("设置")]),t("el-form",{ref:"form",attrs:{model:e.optionsForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"启用状态："}},[e.url?t("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"开启","inactive-text":"关闭"},model:{value:e.optionsForm.switchOpenScreenAD,callback:function(t){e.$set(e.optionsForm,"switchOpenScreenAD",t)},expression:"optionsForm.switchOpenScreenAD"}}):e._e()],1),t("el-form-item",{attrs:{label:"开屏倒计时："}},[t("el-input",{attrs:{size:"small",type:"number",clearable:""},model:{value:e.optionsForm.second,callback:function(t){e.$set(e.optionsForm,"second",t)},expression:"optionsForm.second"}},[t("template",{slot:"append"},[e._v("秒")])],2)],1)],1)],1)],1),t(l.Z,{ref:"upload-pictrue",attrs:{show:e.showUploadPictrueDialog,title:"上传开屏广告图",height:"470px",width:"280px",url:"/oss/uploadFile",placeholder:"此处上传的图片为开屏广告，宽度会满屏，高度84%"},on:{"before-close":e.closeUploadPictrueDialog,success:e.uploadEventSuccess}})],1)},s=[],a=o(89176),r=o(30741),n={name:"operational-cpe-screen-ad-index",mixins:[r.vd],data(){return{url:"",loading:!0,optionsForm:{switchOpenScreenAD:"1",second:5},showUploadPictrueDialog:!1}},created(){this.getPicture()},methods:{getPicture(){(0,a.GR)().then((e=>{this.loading=!1,e.data&&(this.url="https://edo-iot.oss-cn-wulanchabu.aliyuncs.com/"+e.data)}))},uploadEventSuccess(e){(0,a.eV)({adValue:e.data}).then((e=>{0===e.code&&this.getPicture()}))},closeUploadPictrueDialog(e){this.showUploadPictrueDialog=e}}},c=n,u=o(1001),d=(0,u.Z)(c,i,s,!1,null,"3b7fa207",null),p=d.exports}}]);