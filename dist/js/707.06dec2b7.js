"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[707,3399,8562,7504,3495,2617,8758],{94703:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var l=r(63598),i=function(){var e=this,t=e._self._c;return t("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.ruleForm,rules:e.ruleFormRules}},[t("div",{staticClass:"flex flex-justify-between flex-items-center"},[t("el-form-item",{attrs:{label:"小时电费",prop:"totalAmountService"}},[t("el-input-number",{attrs:{size:"mini",disabled:e.disabled,"controls-position":"right",precision:2,min:0,max:9999999},model:{value:e.ruleForm.totalAmountService,callback:function(t){e.$set(e.ruleForm,"totalAmountService",t)},expression:"ruleForm.totalAmountService"}})],1),e.disabled?e._e():t("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:e.addLadderConfig}},[e._v("添加阶梯配置")])],1),t(l.Z,{ref:"table",attrs:{data:e.ruleForm.configList,"row-key":"stationNo",border:!1,size:"mini"},scopedSlots:e._u([{key:"columns",fn:function(){return[t("el-table-column",{attrs:{label:"阶梯",prop:"configName",width:"70"}}),t("el-table-column",{attrs:{label:"开始功率"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-form-item",{staticClass:"m-0",attrs:{rules:e.ruleFormRules.beginValue,prop:`configList.${r.$index}.beginValue`}},[t("el-input",{attrs:{clearable:"",disabled:e.disabled,size:"mini",type:"number"},model:{value:r.row.beginValue,callback:function(t){e.$set(r.row,"beginValue",t)},expression:"scope.row.beginValue"}})],1)]}}])}),t("el-table-column",{attrs:{label:"结束功率"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-form-item",{staticClass:"m-0",attrs:{rules:e.ruleFormRules.endValue,prop:`configList.${r.$index}.endValue`}},[t("el-input",{attrs:{clearable:"",disabled:e.disabled,size:"mini",type:"number"},model:{value:r.row.endValue,callback:function(t){e.$set(r.row,"endValue",t)},expression:"scope.row.endValue"}})],1)]}}])}),t("el-table-column",{attrs:{label:"服务费"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-form-item",{staticClass:"m-0",attrs:{rules:e.ruleFormRules.servicePrice,prop:`configList.${r.$index}.servicePrice`}},[t("el-input-number",{attrs:{size:"small",disabled:e.disabled,"controls-position":"right",precision:2,min:0,max:999},model:{value:r.row.servicePrice,callback:function(t){e.$set(r.row,"servicePrice",t)},expression:"scope.row.servicePrice"}})],1)]}}])}),e.disabled?e._e():t("el-table-column",{attrs:{label:"删除",width:"50"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(t){return e.deleteIt(r.$index)}}})]}}],null,!1,2338617187)})]},proxy:!0}])})],1)},s=[],o=(r(57658),{name:"",data(){return this.ruleFormRules=a,{ruleForm:{totalAmountService:"",configList:[]}}},props:{disabled:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},watch:{data:{immediate:!0,handler(e,t){e.id&&(this.ruleForm=this.data)}}},methods:{addLadderConfig(){this.ruleForm.configList.push({beginValue:"",endValue:"",configName:this.ruleForm.configList.length+1+"",servicePrice:""})},deleteIt(e){this.ruleForm.configList.splice(e,1)},submitForm(){let e=!1;return this.$refs["ruleForm"].validate((t=>{t&&(this.$emit("submit",this.ruleForm),e=!0)})),e},resetFields(){this.$refs["ruleForm"].resetFields()}}});const a={servicePrice:[{required:!0,message:" ",trigger:"blur"}],totalAmountService:[{required:!0,message:" ",trigger:"blur"}],beginValue:[{required:!0,message:"",trigger:"blur"}],endValue:[{required:!0,message:"",trigger:"blur"}]};var n=o,u=r(1001),c=(0,u.Z)(n,i,s,!1,null,"91433166",null),d=c.exports}}]);