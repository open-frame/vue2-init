"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[8275,2700,5376,2453,9397,9374,6955,3821,3399,67,1967,2727,1226,9287,4841,8297,8562,886,2335,6050,7504,2410,1315,3495,2617,8758],{90886:function(e,t,o){o.d(t,{f:function(){return n},h:function(){return a}});o(57658);function a(e,t=[],o={name:"code_name",value:"code_value"}){if(!e)return e;if(0===t.length)return e;if(!Object.hasOwn(t[0],"code_name")&&"code_name"===o.name)return e;if(e=e.toString(),e.includes(",")){let a=[];for(let n of e.split(","))a.push(t.find((e=>e[o.value]===n)));return a.map((e=>e[o.name])).join(",")}{const a=t.find((t=>t[o.value]===e));return a?a[o.name]:e}}function n(e){if(isNaN(e))return e;e=parseFloat(e),e=e.toFixed(2);const t=/\B(?=(\d{3})+(?!\d))/g;return e.replace(t,",")}},5376:function(e,t,o){o.d(t,{Jz:function(){return i},Wl:function(){return n},eL:function(){return r},hv:function(){return u},iS:function(){return l},oP:function(){return s}});o(57658);var a=o(92617);function n(e,t){return a.o.post("/select/box/selectBoxPoint",{codeType:e},t)}function s(e,t){return a.o.post("/system/dept/treeData",e,t)}async function r(e,t){const o=await a.o.post("/system/dept/treeData",e,t);let n=[];return 0===o.code&&function e(t){t.map((t=>{t.children&&e(t.children),n.push(t)}))}(o.data),n}function i(e,t){return a.o.post("/flow/monitor/getAssigneeList",e,t)}function l(){return a.o.get("/assetStake/getStationListByLoginUser")}function u(){return a.o.get("/system/user/add")}},1315:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=o(63598),n=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{"close-on-click-modal":!1,title:"设备出库详情","append-to-body":!0,"before-close":e.close,"modal-append-to-body":!1,visible:e.show}},[t("el-form",{attrs:{"label-width":"115px",model:e.issueDeviceForm}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"出库类型",prop:"ioWhReasonCode"}},[t("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.issueDeviceForm.ioWhReasonCode,callback:function(t){e.$set(e.issueDeviceForm,"ioWhReasonCode",t)},expression:"issueDeviceForm.ioWhReasonCode"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"出库用途",prop:"ioWhReason"}},[t("el-input",{attrs:{clearable:"",disabled:""},model:{value:e.issueDeviceForm.ioWhReason,callback:function(t){e.$set(e.issueDeviceForm,"ioWhReason",t)},expression:"issueDeviceForm.ioWhReason"}})],1)],1)],1)],1),t(a.Z,{ref:"table",attrs:{data:e.tableData,"max-height":"550","row-key":"stakeNo",total:e.total,"page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum},on:{"size-change":e.dataSizeChange,"current-change":e.handleCurrentChange},scopedSlots:e._u([{key:"columns",fn:function(){return[t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"stakeNo",label:"设备编号"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"stakeName",label:"设备名称"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"type",label:"设备类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("transfortext")(t.row.type,e.dropdowns.typeCode))+" ")]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"modelCode",label:"设备型号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("transfortext")(t.row.equipModelUuid,e.dropdowns.modelCode))+" ")]}}])}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"rcvReturnDate",label:"出库时间"}})]},proxy:!0}])}),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.close}},[e._v("关闭")])],1)],1)},s=[],r=o(74713),i=o(5376),l=o(90886),u=o(30741),c={name:"",mixins:[u.I_,u.oA],filters:{transfortext:l.h},data(){return{tableLoading:!1,dropdowns:{typeCode:[],modelCode:[]},tableData:[],total:0,queryForm:{ioWhId:"",pageSize:this.$tableDataSize,pageNum:1},issueDeviceForm:{ioWhReasonCode:"",ioWhReason:""}}},props:{show:{type:Boolean,default:!1},type:{type:String,default:""},issueDetailData:{type:Object,default(){return{}}}},watch:{show(e){if(e){this.getDropdowns(),this.queryForm.pageNum=1;for(let e in this.issueDeviceForm)for(let t in this.issueDetailData)t===e&&(this.issueDeviceForm[e]=this.issueDetailData[t]);for(let e in this.queryForm)for(let t in this.issueDetailData)t===e&&(this.queryForm[e]=this.issueDetailData[e]);this.getData()}}},methods:{getDropdowns(){(0,i.Wl)("3004").then((e=>{0===e.code&&(this.dropdowns.typeCode=e.data)})),(0,i.Wl)("3005").then((e=>{0===e.code&&(this.dropdowns.modelCode=e.data)}))},getData(){this.tableData=[],this.tableLoading=!0,(0,r.oA)(this.queryForm).then((e=>{this.tableLoading=!1,0===e.code&&(this.tableData=e.rows,this.total=e.total)})).catch((()=>{this.tableLoading=!1}))},close(){this.$emit("close",!1)}}},d=c,p=o(1001),f=(0,p.Z)(d,n,s,!1,null,"7f68bc5f",null),h=f.exports}}]);