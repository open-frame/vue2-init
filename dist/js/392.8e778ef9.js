"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[392],{10392:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{"close-on-click-modal":!1,"append-to-body":!0,"modal-append-to-body":!1,title:"资产模板导入",visible:t.show,"show-close":!1}},[e("el-upload",{ref:"updataEquipmentTemplate",staticStyle:{"text-align":"center"},attrs:{drag:"",limit:1,"auto-upload":!1,action:t.importTemplateURL,accept:"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","on-change":t.selectExcel,"on-success":t.updataSuccess,data:t.importTemplateParams}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("选择文件")])]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" excel请按照模板提供的格式填写上传， "),e("span",{staticClass:"cursor-pointer",staticStyle:{color:"blue"},attrs:{title:"点击下载模板"},on:{click:t.downloadTemplate}},[t._v("下载的模板")]),e("el-popover",{attrs:{title:"模板提供的格式",trigger:"hover"}},[e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v("请删除示例数据")]),e("img",{staticStyle:{width:"1000px",height:"550px"},attrs:{title:"点击下载模板",src:a(30077),alt:"模板提供的格式"},on:{click:t.downloadTemplate}})])],1)]),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.close}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.importTemplate}},[t._v("上 传")])],1)],1)},l=[],o=a(74713);const i="https://clw.edo-iot.com/yscar/assetStake/importData";var p={name:"",props:{show:{type:Boolean,default:!1}},data(){return{importTemplateURL:i,importTemplateParams:{name:""},importTemplateLoading:null}},methods:{selectExcel(t,e){this.importTemplateParams.name=t.name},importTemplate(){if(!this.importTemplateParams.name)return this.$message.warning("请选择文件");this.$refs.updataEquipmentTemplate.submit(),this.importTemplateLoading=this.$loading({target:".el-dialog__body",lock:!0,text:"识别中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.55)"})},updataSuccess(t,e,a){this.importTemplateLoading.close(),0===t.code?(this.$message.success("上传成功"),this.close(),this.$emit("success"),this.$message.warning("请及时绑定计费模型")):this.$refs.updataEquipmentTemplate.clearFiles()},downloadTemplate(){(0,o.NW)()},close(){try{this.$refs.updataEquipmentTemplate.clearFiles(),this.importTemplateLoading.close()}catch(t){}this.$emit("close",!1)}}},c=p,r=a(1001),n=(0,r.Z)(c,s,l,!1,null,"c4cdc5a4",null),m=n.exports},30077:function(t,e,a){t.exports=a.p+"img/sample-template-detele.2f441882.png"}}]);