"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[9685],{79685:function(e,t,a){a.d(t,{Z:function(){return k}});var o=a(75267),r=a(66172),s=a(98005),l=a(71377),n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[t("el-row",{staticClass:"filters",attrs:{gutter:15}},[t("el-form",{ref:"fiterDevice",attrs:{inline:"",model:e.queryForm,rules:e.fiterDeviceRules}},[t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{prop:"typeCode"}},[t(l["default"],{attrs:{filterable:"","default-first-option":"",clearable:"",size:"small",placeholder:"设备类型"},on:{change:e.getData},model:{value:e.queryForm.typeCode,callback:function(t){e.$set(e.queryForm,"typeCode",t)},expression:"queryForm.typeCode"}},e._l(e.dropdowns.typeCode,(function(e,a){return t("el-option",{key:a,attrs:{label:e.code_name,value:e.code_value}})})),1)],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{prop:"whNo"}},[t(s.Z,{attrs:{animatLable:"",size:"small"},on:{input:e.getData},model:{value:e.queryForm.whNo,callback:function(t){e.$set(e.queryForm,"whNo",t)},expression:"queryForm.whNo"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{prop:"merchantNo"}},[t(r.Z,{attrs:{animatLable:"",size:"small"},on:{input:e.getData},model:{value:e.queryForm.merchantNo,callback:function(t){e.$set(e.queryForm,"merchantNo",t)},expression:"queryForm.merchantNo"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{prop:"stakeName"}},[t(o.Z,{attrs:{clearable:"",size:"small",placeholder:"设备名称"},on:{change:e.pageReset},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData.apply(null,arguments)}},model:{value:e.queryForm.stakeName,callback:function(t){e.$set(e.queryForm,"stakeName",t)},expression:"queryForm.stakeName"}})],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{prop:"stakeNo"}},[t(o.Z,{attrs:{clearable:"",size:"small",placeholder:"设备编号"},on:{change:e.pageReset},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getData.apply(null,arguments)}},model:{value:e.queryForm.stakeNo,callback:function(t){e.$set(e.queryForm,"stakeNo",t)},expression:"queryForm.stakeNo"}})],1)],1),t("el-col",{staticClass:"text-end",attrs:{span:4}},[t("el-form-item",[t("el-button",{attrs:{size:"small"},on:{click:e.getData}},[e._v("查设备")])],1)],1)],1)],1),t("div",{staticClass:"flex flex-justify-center"},[e.queryForm.whNo&&e.queryForm.typeCode?t("el-transfer",{staticClass:"transfer",attrs:{filterable:"",props:{key:"stakeNo",label:"stakeName"},"filter-method":e.filterMethod,titles:["库房","出库栏"],"button-texts":["撤回","出库"],"filter-placeholder":"请输入设备编号",data:e.allData},on:{change:e.change},model:{value:e.outData,callback:function(t){e.outData=t},expression:"outData"}}):e._e()],1)],1)},i=[],u=a(74713),c=a(5376),m=a(30741),d={name:"selecte-device-table",mixins:[m.I_],props:{show:{type:Boolean,default:!1}},data(){return{fiterDeviceRules:p,queryForm:{whNo:"",merchantNo:"",typeCode:"",modelCode:"",stakeNo:"",stakeName:"",pageSize:999999999,pageNum:1},filterMethod(e,t){return t.stakeNo.indexOf(e)>-1},dropdowns:{typeCode:[],modelCode:[],whNo:[],merchantNo:[],organizations:[],ioWhReasonCode:[]},allData:[],outData:[]}},watch:{show:{immediate:!0,handler(e){e&&this.getDropdowns()}}},methods:{getData(){this.$refs["fiterDevice"].validate((e=>{e&&(0,u.oA)(this.queryForm).then((e=>{0===e.code&&(this.allData=e.rows)}))}))},getDropdowns(){(0,c.Wl)("3004").then((e=>{0===e.code&&(this.dropdowns.typeCode=e.data)})),(0,c.Wl)("45257").then((e=>{0===e.code&&(this.dropdowns.ioWhReasonCode=e.data)}))},change(e,t,a){this.$emit("change",e,this.queryForm)},resetFields(){this.$refs["fiterDevice"].resetFields()}}};const p={whNo:[{required:!0,message:"请选择库房",trigger:"change"}],typeCode:[{required:!0,message:"请选择设备类型",trigger:"change"}]};var h=d,f=a(1001),y=(0,f.Z)(h,n,i,!1,null,"784e4097",null),k=y.exports}}]);