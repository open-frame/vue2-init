"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[4574],{6867:function(e,t,s){s.d(t,{rd:function(){return o}});s(153);var n=s(2219);function o(e,t){const s=[...n.Z.state.permissionButtons,...n.Z.state.permissionRouters];s.includes(t.value)||e.parentNode&&e.parentNode.removeChild(e)}},5376:function(e,t,s){s.d(t,{Wl:function(){return o},eL:function(){return r},hv:function(){return a}});s(7658);var n=s(2617);function o(e,t){return n.o.post("/select/box/selectBoxPoint",{codeType:e},t)}async function r(e,t){const s=await n.o.post("/system/dept/treeData",e,t);let o=[];return 0===s.code&&function e(t){t.map((t=>{t.children&&e(t.children),o.push(t)}))}(s.data),o}function a(){return n.o.get("/system/user/add")}},4537:function(e,t,s){s.d(t,{Z:function(){return y}});var n=function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"important-border-none",attrs:{mode:e.mode,"unique-opened":e.uniqueOpened,collapse:e.collapse,"default-active":e.defaultActive,"background-color":"#242b2a","text-color":e.textColor,"active-text-color":e.activeTextColor},on:{open:e.open,close:e.close}},[t("MenuList",{attrs:{data:e.$store.state.permissionMenu||e.data}})],1)},o=[],r=s(923),a=s.n(r),i=function(){var e=this,t=e._self._c;return t("vue-fragment",{staticClass:"menu-list"},[e._l(e.data,(function(s){return[s.children.length<1?t("el-menu-item",{key:s.menuIdStr,attrs:{index:s.menuIdStr},on:{click:function(t){return e.goPage(s)}}},[t("i",{class:[s.icon,"menu-icon"]}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(s.menuName))])]):t("el-submenu",{key:s.menuIdStr,attrs:{index:s.menuIdStr}},[t("template",{slot:"title"},[t("i",{class:[s.icon,"menu-icon"]}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(s.menuName))])]),t("MenuList",{attrs:{data:s.children}})],2)]}))],2)},l=[],c=s(2969),d=s.n(c),u=s(5436),m=s.n(u),p=(s(7658),s(6899)),f={name:"MenuList",components:{"el-submenu":m(),"el-menu-item":d(),"vue-fragment":p.HY},props:{data:{type:Array,default(){return[]}}},methods:{goPage(e){if(this.$route.path!==e.url)switch(e.menuType){case"0":open(e.url,"_blank");break;case"2":open(e.url,"_blank");break;default:this.$router.push(e.url);break}}}},h=f,v=s(1001),w=(0,v.Z)(h,i,l,!1,null,"0f357c14",null),b=w.exports,g={name:"MenuIndex",components:{"el-menu":a(),MenuList:b},props:{mode:{type:String,default:"horizontal"},data:{type:Array},uniqueOpened:{type:Boolean},collapse:{type:Boolean},defaultActive:{type:String},backgroundColor:{type:String},textColor:{type:String},activeTextColor:{type:String}},methods:{close(){this.$emit("close")},open(){this.$emit("open")}}},_=g,k=(0,v.Z)(_,n,o,!1,null,"9b3be288",null),y=k.exports},6716:function(e,t,s){s.d(t,{Z:function(){return f}});var n=function(){var e=this,t=e._self._c;return t("div",[t("el-header",{staticClass:"bg-white flex flex-items-center flex-justify-between shadow-sm"},[t("div",{staticClass:"text-truncate platform-name"},["3"!==e.$store.state.layout?t("i",{class:e.$store.state.isCollapse?"el-icon-s-unfold":"el-icon-s-fold",attrs:{title:e.$store.state.isCollapse?"展开菜单栏":"折叠菜单栏"},on:{click:e.isCollapse}}):e._e(),t("router-link",{staticClass:"text-primary fw-bold text-xl m-0",attrs:{to:"/"}},[e._v(e._s(e.title))])],1),"3"===e.$store.state.layout?t("nav-menu",{staticClass:"col-8 flex flex-justify-center border-none edo-menu",staticStyle:{"overflow-y":"hidden"},attrs:{mode:"horizontal",collapse:!1,"default-active":e.$store.state.nowPage,data:e.$store.state.permissionMenu}}):e._e(),t("div",{staticClass:"flex flex-justify-center flex-items-center info"},[t("el-dropdown",{on:{command:e.me}},[t("span",{staticClass:"cursor-pointer text-truncate"},[e._v(" 欢迎，"+e._s(e.$store.state.userInfo.userName)+" ")]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/my/center",expression:"'/my/center'"}],attrs:{command:"1"}},[e._v("个人中心")]),t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/my/info",expression:"'/my/info'"}],attrs:{command:"2"}},[e._v("我的资料")]),t("el-dropdown-item",{attrs:{command:"0",divided:""}},[e._v("退出登录")])],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("el-dropdown",{on:{command:e.setings}},[t("span",{staticClass:"cursor-pointer"},[t("i",{staticClass:"el-icon-s-operation",attrs:{title:"平台设置"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$store.state.showOpenedPages?e._e():t("el-dropdown-item",{attrs:{command:"3",divided:""}},[e._v("显示页签")]),t("el-dropdown-item",{attrs:{command:"1"}},[e._v("切换布局")])],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("el-dropdown",{on:{command:e.helps}},[t("span",{staticClass:"cursor-pointer"},[t("i",{staticClass:"i-fa:question-circle-o",attrs:{"aria-hidden":"true",title:"帮助"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"1"}},[e._v("使用帮助")]),t("a",{attrs:{href:"mailto:quanyi@edo-iot.com?subject=问题反馈"}},[t("el-dropdown-item",{attrs:{command:"2"}},[e._v(" 反馈问题 ")])],1),t("a",{attrs:{target:"_blank",href:e.VUE_APP_CLW_SERVICE}},[t("el-dropdown-item",{attrs:{command:"3"}},[e._v(" 在线客服 ")])],1),t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/test",expression:"'/test'"}],attrs:{divided:""}},[t("router-link",{attrs:{to:"/test"}},[e._v("测试页面")])],1)],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("i",{class:e.isFullScreen?"i-fa:compress":"el-icon-full-screen",attrs:{title:e.isFullScreen?"退出全屏":"进入全屏"},on:{click:e.fullScreen}})],1)],1),t("layout-setting",{attrs:{show:e.showPageStructureDrawer},on:{close:function(t){e.showPageStructureDrawer=!1}}})],1)},o=[],r=s(3729),a=s.n(r),i=(s(7658),s(6867)),l=s(4537),c=s(5376),d={name:"",components:{"el-header":a(),NavMenu:l.Z,"layout-setting":()=>s.e(6367).then(s.bind(s,6367))},directives:{permission:i.rd},filters:{filterdeptName(e,t){return e&&t.length>0?t.find((t=>t.deptCode===e)).label:""}},data(){return{VUE_APP_CLW_SERVICE:"",title:"",menus:[],organizations:[],isFullScreen:!1,showPageStructureDrawer:!1}},created(){this.getOrganizationTree(),this.title="全易 · vue2开发模板",this.VUE_APP_CLW_SERVICE="https://work.weixin.qq.com/kfid/kfc4fd7cae33c6448f9"},methods:{getOrganizationTree(){(0,c.eL)().then((e=>{this.organizations=e}))},switchOrganization(e){this.$store.commit("setNowDept",e)},isCollapse(){this.$store.commit("menUnfold",!this.$store.state.isCollapse)},me(e){switch(e){case"0":this.$store.commit("logout","0");break;case"1":this.$router.push("/my/center");break;case"2":this.$router.push("/my/info");break}},setings(e){switch(e){case"0":break;case"1":this.showPageStructureDrawer=!0;break;case"3":this.$store.commit("changeOpenedPages",!0);break}},fullScreen(){if(this.isFullScreen){this.isFullScreen=!1;const e=document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;if(t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){const e=new ActiveXObject("WScript.Shell");null!=e&&e.SendKeys("{F11}")}}else{this.isFullScreen=!0;const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){const e=new ActiveXObject("WScript.Shell");null!=e&&e.SendKeys("{F11}")}}},helps(e){switch(e){case"1":break;case"2":this.$message.info("请留意启动的Email软件");break;case"3":break}}}},u=d,m=s(1001),p=(0,m.Z)(u,n,o,!1,null,"1ad1b2b2",null),f=p.exports},9167:function(e,t,s){s.d(t,{Z:function(){return c}});var n=function(){var e=this,t=e._self._c;return e.$store.state.showOpenedPages?t("div",{staticClass:"flex flex-items-center page-tabs"},[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.click,"tab-remove":e.remove},model:{value:e.$store.state.nowPage,callback:function(t){e.$set(e.$store.state,"nowPage",t)},expression:"$store.state.nowPage"}},e._l(e.$store.state.openedPages,(function(e){return t("el-tab-pane",{key:e.meta.menuIdStr,attrs:{closable:"/"!==e.path,label:e.meta.menuName,name:e.meta.menuIdStr}})})),1),t("el-dropdown",{staticClass:"close-btn",attrs:{size:"small"},on:{command:e.handler}},[t("el-button",{attrs:{size:"mini"}},[e._v(" 关闭"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$store.state.openedPages.length>2?t("el-dropdown-item",{attrs:{command:"1"}},[e._v("其他页面")]):e._e(),e.$store.state.openedPages.length>1?t("el-dropdown-item",{attrs:{command:"2"}},[e._v("全部页面")]):e._e(),t("el-dropdown-item",{attrs:{command:"0",divided:""}},[e._v("隐藏页签")])],1)],1)],1):e._e()},o=[],r=(s(7658),{name:"page-tabs",data(){return{}},methods:{click(e){let t=this.$store.state.openedPages[Number(e.index)].fullPath;this.$route.path!==t&&(this.$router.push(t),this.$store.commit("setDefaultPage",e.name))},remove(e){this.$store.commit("closeThisOpenedPages",e)},handler(e){switch(e){case"0":this.$store.commit("changeOpenedPages",!1);break;case"1":this.$store.commit("closePageTab","1");break;case"2":this.$store.commit("closePageTab","0");break}}}}),a=r,i=s(1001),l=(0,i.Z)(a,n,o,!1,null,"72bdd82c",null),c=l.exports}}]);