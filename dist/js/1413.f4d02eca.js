"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[1413,4164,36,6734,3501,3399,8562,7504,3158,760,6495,3495,2617,8758],{51634:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var o=a(63598),r=a(90649),l=a(1985),i=a(67539),n=function(){var e=this,t=e._self._c;return t("el-card",{},[t(i.Z,{attrs:{loading:e.tableLoading,btnSpan:14,getData:e.getData,queryReset:e.queryReset}},[t("el-col",{attrs:{span:5}},[t(l.Z,{attrs:{animatLable:"",multiple:"","collapse-tags":""},model:{value:e.queryForm.deptCode,callback:function(t){e.$set(e.queryForm,"deptCode",t)},expression:"queryForm.deptCode"}})],1),t("el-col",{attrs:{span:5}},[t(r.Z,{attrs:{animatLable:"",type:"date",clearable:!1,format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions,placeholder:"报表日期"},model:{value:e.queryForm.createTime,callback:function(t){e.$set(e.queryForm,"createTime",t)},expression:"queryForm.createTime"}})],1)],1),t("el-divider"),t(o.Z,{ref:"table",attrs:{name:e.queryForm.createTime+"站点运营日报",loading:e.tableLoading,data:e.tableData,height:"580","row-key":"uuid",total:e.total,"page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum,derive:e.exporting},on:{"size-change":e.dataSizeChange,"current-change":e.handleCurrentChange,printing:e.printing},scopedSlots:e._u([{key:"columns",fn:function(){return[t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"CONSTRUCTION",label:"区域名称"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"duration",label:"平均充电时长"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"orderNumber",label:"订单量"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"useNumber",label:"设备使用量"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"balance",label:"交易金额"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"totalElectric",label:"电量"}})]},proxy:!0}])})],1)},s=[],p=a(89176),d=a(30741),u={name:"operational-reports-dayly",mixins:[d.LI,d.I_,d.oA,d.vd],data(){return{pickerOptions:{disabledDate(e){return e.getTime()>Date.now()-864e5}},queryForm:{deptCode:[],createTime:"",pageSize:this.$tableDataSize,pageNum:1},tableLoading:!1,tableData:[],total:0}},methods:{getData(){let e;this.tableData=[];try{e={...this.queryForm,deptCode:this.queryForm.deptCode.join()}}catch(t){e={...this.queryForm,deptCode:[]}}(0,p.oY)(e).then((e=>{0===e.code&&(this.tableData=e.rows,this.total=e.total)}))},async exporting(e){let t={...this.queryForm,deptCode:this.queryForm.deptCode.join()};"2"===e&&(t.pageSize=this.total,t.pageNum=1);const a=await(0,p.oY)(t);if(0===a.code){const e=this.$refs.table.getColumns(),t=a.rows.map((t=>{let a=e.map((e=>[e.label,t[e.prop]]));return Object.fromEntries(a)}));return t}},printing(e){let t={...this.queryForm,deptCode:this.queryForm.deptCode.join()};"2"===e&&(t.pageSize=this.total,t.pageNum=1);const o=a(36801);(0,p.oY)(t).then((e=>{o({type:"json",printable:e.rows,scanStyles:!0,header:`<div style="text-align: center">\n                    <h2>站点运营日报</h2>\n                    <p style="margin-bottom: 20px;font-size: 12px;">${this.queryForm.createTime}</p>\n                  </div>`,properties:m,style:"@media print{@page {size:landscape}}",gridHeaderStyle:"border: 1px solid #000;text-align:center",gridStyle:"border: 1px solid #000;text-align:center"})}))}}};const m=[{field:"CONSTRUCTION",displayName:"区域名称"},{field:"duration",displayName:"平均充电时长"},{field:"orderNumber",displayName:"订单量"},{field:"useNumber",displayName:"设备使用量"},{field:"balance",displayName:"交易金额"},{field:"totalElectric",displayName:"电量"}];var c=u,y=a(1001),b=(0,y.Z)(c,n,s,!1,null,"3605eec5",null),h=b.exports}}]);