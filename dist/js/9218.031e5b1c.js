(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[9218,2700,5376,2453,9397,9374,6955,3821,3399,67,1967,2727,1226,9287,4841,8297,8562,886,2335,6050,7504,2410,3495,2617,8758],{90886:function(t,e,o){"use strict";o.d(e,{f:function(){return r},h:function(){return n}});o(57658);function n(t,e=[],o={name:"code_name",value:"code_value"}){if(!t)return t;if(0===e.length)return t;if(!Object.hasOwn(e[0],"code_name")&&"code_name"===o.name)return t;if(t=t.toString(),t.includes(",")){let n=[];for(let r of t.split(","))n.push(e.find((t=>t[o.value]===r)));return n.map((t=>t[o.name])).join(",")}{const n=e.find((e=>e[o.value]===t));return n?n[o.name]:t}}function r(t){if(isNaN(t))return t;t=parseFloat(t),t=t.toFixed(2);const e=/\B(?=(\d{3})+(?!\d))/g;return t.replace(e,",")}},44693:function(t,e,o){"use strict";o.d(e,{JN:function(){return s},Nx:function(){return a},cT:function(){return r}});var n=o(92617);function r(t,e){return n.o.post("/flow/monitor/myTask",t,e)}function a(t,e){return n.o.post("/flow/monitor/setTaskAssignee",t,e)}function s(t,e){return n.o.post("/flow/monitor/myCompletedTask",t,e)}},5376:function(t,e,o){"use strict";o.d(e,{Jz:function(){return i},Wl:function(){return r},eL:function(){return s},hv:function(){return u},iS:function(){return l},oP:function(){return a}});o(57658);var n=o(92617);function r(t,e){return n.o.post("/select/box/selectBoxPoint",{codeType:t},e)}function a(t,e){return n.o.post("/system/dept/treeData",t,e)}async function s(t,e){const o=await n.o.post("/system/dept/treeData",t,e);let r=[];return 0===o.code&&function t(e){e.map((e=>{e.children&&t(e.children),r.push(e)}))}(o.data),r}function i(t,e){return n.o.post("/flow/monitor/getAssigneeList",t,e)}function l(){return n.o.get("/assetStake/getStationListByLoginUser")}function u(){return n.o.get("/system/user/add")}},2193:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return w}});var n=o(63598),r=o(81018),a=o(67539),s=function(){var t=this,e=t._self._c;return e("el-card",[e(a.Z,{attrs:{loading:t.loading,btnSpan:20,getData:t.getData,queryReset:t.queryReset}},[e("el-col",{attrs:{span:4}},[e(r.Z,{attrs:{animatLable:""},on:{change:t.pageReset},model:{value:t.queryForm.processDefinitionKey,callback:function(e){t.$set(t.queryForm,"processDefinitionKey",e)},expression:"queryForm.processDefinitionKey"}})],1)],1),e("el-divider"),e(n.Z,{ref:"table",attrs:{name:"已办",loading:t.loading,total:t.total,data:t.tableData,height:"560","row-key":"orderId","page-size":t.queryForm.pageSize,"current-page":t.queryForm.pageNum,derive:t.exporting},on:{"current-change":t.handleCurrentChange,"size-change":t.dataSizeChange},scopedSlots:t._u([{key:"columns",fn:function(){return[e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processInstanceId",label:"流程id"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processName",label:"流程名称"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processInstanceStartTime",label:"流程开始时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processInstanceEndTime",label:"流程结束时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskId",label:"任务id"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskName",label:"任务名称"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskStarTime",label:"任务开始时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskEndTime",label:"任务结束时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"assignee",label:"处理人"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"owner",label:"处理结果"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("transfortext")(e.row.owner,t.dropdowns.owner))+" ")]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"description",label:"审核意见"}}),e("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(e){return t.openDetail(o.row)}}},[t._v("详情")])]}}])})]},proxy:!0}])}),e(t.componentName,{ref:t.componentName,tag:"component",attrs:{params:t.componentParams,show:t.formDialog},on:{close:function(e){t.formDialog=!1}}})],1)},i=[],l=o(44693),u=o(5376),c=o(90886),p=o(30741),f={name:"my-panels-finished",mixins:[p.I_,p.LI,p.oA,p.vd],filters:{transfortext:c.h},data(){return{loading:!1,queryForm:{processDefinitionKey:"",pageSize:this.$tableDataSize,pageNum:1},dropdowns:{owner:[]},tableData:[],total:0,componentName:"",formDialog:!1,componentParams:{}}},created(){this.getDropdowns()},methods:{getDropdowns(){(0,u.Wl)("426807").then((t=>{0===t.code&&(this.dropdowns.owner=t.data)}))},getData(){this.loading=!0,this.tableData=[],(0,l.JN)(this.queryForm).then((t=>{this.loading=!1,0===t.code&&(this.total=t.total,this.tableData=t.rows)})).catch((()=>{this.loading=!1}))},async openDetail(t){this.params=t;try{this.componentName=t.formKey.replace("/","-"),this.$options.components[this.componentName]=()=>o(16030)(`./${t.formKey}.vue`),this.componentParams=t,this.formDialog=!0}catch(e){this.$message.info("找不到formKey，请联系平台")}},async exporting(t){let e={...this.queryForm};"2"===t&&(e.pageSize=this.total,e.pageNum=1);const o=await(0,l.JN)(e);if(0===o.code){const t=this.$refs.table.getColumns(),e=o.rows.map((e=>{let o=t.map((t=>[t.label,`${(0,c.h)(e[t.prop],this.dropdowns[t.prop])}`]));return Object.fromEntries(o)}));return e}}}},m=f,d=o(1001),h=(0,d.Z)(m,s,i,!1,null,"5fb26836",null),w=h.exports},16030:function(t,e,o){var n={"./stationRestore/complete.vue":[63224,3224,2335],"./stationRestore/execute.vue":[88983,8983,6050],"./stationRestore/process-info.vue":[84841,7937]};function r(t){if(!o.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],r=e[0];return Promise.all(e.slice(1).map(o.e)).then((function(){return o(r)}))}r.keys=function(){return Object.keys(n)},r.id=16030,t.exports=r}}]);