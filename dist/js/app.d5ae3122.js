(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[2143],{50:function(e,t,n){"use strict";var s=n(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],a={name:"App",created(){this.getRouters()},mounted(){switch(performance.navigation.type){case 0:break;case 1:break}},watch:{"$store.state.userInfo":{deep:!0,handler(e,t){Object.keys(e).length&&this.$nextTick((async function(){const e=await Promise.all([n.e(4734),n.e(8496)]).then(n.bind(n,8496));e.microAppStart()}))}}},methods:{getRouters(){const e=localStorage.getItem("token");e&&this.$store.dispatch("routers").then((e=>{0===e.code&&(this.$store.commit("setRouters",e.data),this.$store.commit("setMenu",e.data),this.getUserInfo())}))},getUserInfo(){this.$store.dispatch("userInfo").then((e=>{0===e.code&&this.$store.commit("setUserInfo",e.data)}))}}},u=a,i=n(1001),c=(0,i.Z)(u,o,r,!1,null,null,null),l=c.exports,p=n(2219),m=n(1333),d=n(7934),g=n.n(d),f=n(153),h=n.n(f),v=n(7881),y=n.n(v),P=n(4002),Z=n.n(P),w=n(2163),b=n.n(w),k=n(8155),$=n.n(k),x=n(7230),I=n.n(x),T=n(82),O=n.n(T),S=n(2329),j=n.n(S),D=n(1410),R=n.n(D),C=n(5464),U=n.n(C),E=n(7279),N=n.n(E),B=n(3895),_=n.n(B),F=n(2225),M=n.n(F),A=n(1365),L=n.n(A),J=n(138),q=n.n(J),z=n(6734),H=n.n(z),X=n(9753),G=n.n(X),K=n(4514),Q=n.n(K),V=n(8109),W=n.n(V),Y=n(1939),ee=n.n(Y),te=n(7509),ne=n.n(te),se=n(5930),oe=n.n(se),re=n(7650),ae=n.n(re),ue=n(642),ie=n.n(ue),ce=n(3965),le=n.n(ce),pe=n(6445),me=n.n(pe),de=n(8787),ge=n.n(de),fe=n(5583),he=n.n(fe),ve=n(9371),ye=n.n(ve),Pe=n(5034),Ze=n.n(Pe),we=n(5493),be=n.n(we),ke=n(152),$e=n.n(ke),xe=n(3256),Ie=n.n(xe),Te=n(6971),Oe=n.n(Te),Se=n(2804),je=n.n(Se),De=n(1168),Re=n.n(De),Ce=n(8319),Ue=n.n(Ce),Ee=n(488),Ne=n.n(Ee),Be=n(8902),_e=n.n(Be),Fe=n(7215),Me=n.n(Fe),Ae=n(3480),Le=n.n(Ae),Je=n(9358),qe=n.n(Je),ze=n(1540),He=n.n(ze),Xe=n(9713),Ge=n.n(Xe),Ke=n(7342),Qe=n.n(Ke),Ve=n(8037),We=n.n(Ve),Ye=n(7199),et=n.n(Ye),tt=n(8895),nt=n.n(tt),st=n(4359),ot=n.n(st),rt=n(934),at=n.n(rt),ut=n(714),it=n.n(ut),ct=n(8192),lt=n.n(ct),pt=n(3892),mt=n.n(pt),dt=n(4438),gt=n.n(dt),ft=n(6213),ht=n.n(ft),vt=n(4327),yt=n.n(vt),Pt=n(2838),Zt=n.n(Pt),wt=n(2244),bt=n.n(wt),kt=n(6830),$t=n.n(kt),xt=n(3959),It=n.n(xt),Tt=n(278),Ot=n.n(Tt),St=n(860),jt=n.n(St),Dt=n(2572),Rt=n.n(Dt),Ct=n(5981),Ut=n.n(Ct);const Et={type:Boolean,default:!0};Ut().props.clearable=Et,Rt().props.clearable=Et,jt().props.clearable=Et,Ot().props.clearable=Et,It().props.clearable=Et;const Nt={type:Boolean,default:!0};function Bt(e){e.use($t()),e.use(bt()),e.use(Zt()),e.use(yt()),e.use(ht()),e.use(gt()),e.use(Ut()),e.use(mt()),e.use(lt()),e.use(it()),e.use(at()),e.use(ot()),e.use(nt()),e.use(et()),e.use(We()),e.use(Rt()),e.use(Qe()),e.use(Ge()),e.use(He()),e.use(qe()),e.use(Le()),e.use(It()),e.use(Me()),e.use(Ot()),e.use(_e()),e.use(Ne()),e.use(Ue()),e.use(Re()),e.use(je()),e.use(Oe()),e.use(Ie()),e.use($e()),e.use(be()),e.use(Ze()),e.use(ye()),e.use(he()),e.use(ge()),e.use(me()),e.use(le()),e.use(ie()),e.use(ae()),e.use(oe()),e.use(ne()),e.use(ee()),e.use(W()),e.use(Q()),e.use(G()),e.use(H()),e.use(q()),e.use(L()),e.use(M()),e.use(jt()),e.use(_()),e.use(N()),e.use(U()),e.use(R()),e.use(j()),e.use(O()),e.use(I()),e.use($()),e.use(b()),e.use(Z().directive),e.prototype.$loading=Z().service;const{alert:t,confirm:n,prompt:s}=y();e.prototype.$msgbox=y(),e.prototype.$alert=t,e.prototype.$confirm=n,e.prototype.$prompt=s,e.prototype.$notify=h(),e.prototype.$message=g()}Rt().props.filterable=Nt,jt().props.filterable=Nt;var _t=n(4984),Ft=n(2617);m.Z.beforeEach((async(e,t,n)=>{const s=localStorage.getItem("token");if(!s&&"/logon"!==e.path)return p.Z.commit("logout","1");const o=p.Z.state.permissionRouters;if(o.includes(e.path)||e.path.includes("/overviews/plateform"))return n();Ft.g.forEach(((e,t)=>{const n=["/system/menu/refresh","/system/role/current"];n.includes(e.url)||(e.cancel(),delete Ft.g[t])}));const{data:r}=await(0,_t.eT)({url:e.path,visible:"0"});m.Z.replace({path:r.length>0?"/403":"/404"})})),m.Z.afterEach(((e,t)=>{p.Z.commit("setOpenedPages",{fullPath:e.fullPath,meta:e.meta,name:e.name,path:e.path}),p.Z.commit("setDefaultPage",e.meta.menuIdStr),p.Z.commit("setPermissionButtons",e.meta.permissions),p.Z.commit("changeFullPage","0"===e.meta.menuType)}));const Mt=s["default"].prototype.$on;s["default"].prototype.$on=function(e,t){let n=t;if("click"===e){let e,s=!0;n=function(){s&&(t.apply(this,arguments),s=!1),clearTimeout(e),e=setTimeout((function(){s=!0}),800)}}Mt.call(this,e,n)};n(7140);Bt(s["default"]),s["default"].config.productionTip=!1,s["default"].prototype.$tableDataSize=15,s["default"].config.errorHandler=function(e,t,n){},new s["default"]({el:"#app",store:p.Z,router:m.Z,render:e=>e(l),template:"<App/>",renderError(e,t){return e("pre",{style:{color:"red"}},t.stack)}}).$mount("#app")},4984:function(e,t,n){"use strict";n.d(t,{Uy:function(){return r},eT:function(){return o},eb:function(){return u},yX:function(){return a}});var s=n(2617);function o(e,t){return s.o.get("/service/demo/menus.json",e,t)}function r(e,t){return s.o.get("/service/demo/role-list.json",e,t)}function a(e,t){return s.o.get("/service/demo/dictionaries.json",e,t)}function u(e,t){return s.o.get("/service/demo/dictionarie-values.json",e,t)}},1333:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(6369),o=n(2631);const r=[{path:"/404",name:"page-404",component:()=>n.e(8564).then(n.bind(n,8564)),meta:{title:"无此页",id:"page-404"}},{path:"/403",name:"page-403",component:()=>n.e(6064).then(n.bind(n,6064)),meta:{title:"无权限",id:"page-403"}},{path:"/logon",name:"page-login",component:()=>Promise.all([n.e(1491),n.e(8800),n.e(3299),n.e(2697)]).then(n.bind(n,3569)),meta:{title:"账号登录",id:"page-login"}}];var a=[...r];s["default"].use(o.ZP);var u=new o.ZP({mode:"history",routes:a})},2617:function(e,t,n){"use strict";n.d(t,{g:function(){return c},o:function(){return r.Z}});var s=n(7934),o=n.n(s),r=(n(7658),n(5939)),a=n(2219);const u=n(8601),i=n(25);r.Z.defaults.headers={"Content-Type":"application/json; charset=utf-8"};let c=[];r.Z.interceptors.request.use((e=>{if(i.includes(e.url))return e;const t=localStorage.getItem("token");return t?e.headers["Authorization"]="https://clw.eida.com/login"===e.url?"":`Bearer ${t}`:"https://clw.eida.com/login"!==e.url&&a.Z.commit("logout","1"),e.cancelToken=new r.Z.CancelToken((t=>{c.push({...e,cancel:t})})),e}),(e=>Promise.reject(e))),r.Z.interceptors.response.use((e=>2001===e.data.code?(r.Z.CancelToken.source().cancel(),a.Z.commit("logout","1"),e.data):(e.data.code&&0!==e.data.code&&o().error(e.data.msg),e.data)),(e=>{try{const t=u.find((t=>e.response.status===t.code));o().error(`${t.code}：${t.message}`)}catch(t){}return Promise.reject(e)}))},2219:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var s=n(6369),o=n(3822);const r=n(5335);var a={loginDialog:!1,fullPage:!1,layout:"1",userInfo:{},permissionMenu:[],permissionRouters:r,permissionButtons:[],isCollapse:!0,showOpenedPages:!0,openedPages:[],nowPage:"",nowDept:""},u=(n(7658),n(1333));const i=n(979),c=n(5335);var l={setUserInfo(e,t){e.userInfo=t},changeLayout(e,t){e.layout=t},changeFullPage(e,t){e.fullPage=t},setMenu(e,t){let n=[];(function e(t){t.map((t=>{t.children&&e(t.children),n.push({...t,icon:t.icon.replace("fa fa-","i-fa:")})}))})(t);let s=n.filter((e=>!["F","1"].includes(e.menuType)));function o(e){const t=[...e];return t.filter((e=>{let n=t.filter((t=>e.menuId===t.parentId));return e.children=n.length>0?n:[],0===e.parentId}))}e.permissionMenu=o(s)},setRouters(e,t){let s=[];(function e(t){t.map((t=>{t.children&&e(t.children),s.push(t)}))})(t);const o=s.filter((e=>{if(""!==e.url)return e}));e.permissionRouters=[...c],e.permissionRouters.push(...o.map((e=>e.url)));const r=o.map((e=>({path:e.url,name:e.remark.replace(/\//g,"-"),component(){let t;try{t=n(2385)(`./${e.remark}.vue`)}catch(s){t=n.e(6990).then(n.bind(n,6990))}return t},meta:{...e,icon:e.icon.replace("fa fa-","i-fa:"),permissions:e.children.map((e=>{if("F"===e.menuType)return e}))}})));u.Z.addRoute({path:"/",name:"main-file",component:()=>Promise.all([n.e(5855),n.e(123)]).then(n.bind(n,5855)),children:r})},setPermissionButtons(e,t){if(t){let n=[];(function e(t){t.map((t=>{t.children&&e(t.children),n.push(t.perms)}))})(t),e.permissionButtons=n}},menUnfold(e,t){e.isCollapse=t},setNowDept(e,t){e.nowDept=t},openLoginDialog(e,t){e.loginDialog=t},logout(e,t="0"){u.Z.replace("/logon"),sessionStorage.clear(),localStorage.clear()},changeOpenedPages(e,t){e.showOpenedPages=t},setOpenedPages(e,t){const n=e.openedPages.some((e=>e.path===t.path));n||!t.name||!t.path||["0","2"].includes(t.meta.menuType)||i.includes(t.path)||e.openedPages.push(t)},setDefaultPage(e,t){e.nowPage=t},closeThisOpenedPages(e,t){const n=e.openedPages,s=u.Z.history.current;n.forEach(((o,r)=>{if(o.meta.menuIdStr!==t);else{e.openedPages.splice(r,1);const t=n[n.length-1].path;s.meta.menuIdStr===o.meta.menuIdStr&&u.Z.push(t)}}))},closePageTab(e,t){const n=u.Z.history.current;switch(e.openedPages=[e.openedPages[0]],t){case"0":"/"!==n.path&&u.Z.replace("/");break;case"1":"/"!==n.path&&(e.openedPages=[e.openedPages[0],{path:n.path,meta:n.meta}]);break}}},p=n(2617),m={routers:(e,t,n)=>p.o.get("/service/demo/refresh.json",t,n),userInfo(e,t,n){return p.o.get("/service/demo/current.json",t,n)}},d=n(5103);s["default"].use(o.ZP);const g=new d.ZP({key:"operation-storage"});var f=new o.ZP.Store({state:a,mutations:l,actions:m,plugins:[g.plugin]})},7140:function(){"granted"!==Notification.permission&&Notification.requestPermission()},2385:function(e,t,n){var s={"./error/403.vue":[6064,6064],"./error/404.vue":[8564,8564],"./error/building.vue":[6990,6990],"./file-preview/index.vue":[9757,9757],"./home/components/panels-manage.vue":[4128,4128,5372],"./home/index.vue":[1753,7578,1753,7632],"./home/panels/backlog.vue":[6670,9674,7815,4945,3699,5508,4461,5588,1691,741,6670,7853],"./home/panels/new-users.vue":[4786,9674,7815,4945,3699,5508,4461,5588,1691,4786,4748],"./home/panels/nopay-orders.vue":[9259,9674,7815,4945,3699,5508,4461,5588,1691,741,9259,9124],"./home/panels/orders-refund.vue":[2897,9674,7815,4945,3699,5508,4461,5588,1691,741,2897,6928],"./home/panels/users-withdraw.vue":[3166,9674,7815,4945,3699,5508,4461,5588,1691,741,3166,4636],"./login/index.vue":[3569,1491,8800,3299,2697],"./main.vue":[5855,5855,123],"./management/operation/index.vue":[4381,9674,7815,4945,3699,5508,4461,5588,1491,1691,741,2665,9934,4381,6189],"./overviews/plateform/index.vue":[5524,5524,7889],"./print/index.vue":[1058,1058],"./rich-editor/index.vue":[5762,5762],"./system/dictionaries/components/list.vue":[9666,9674,7815,4945,3699,5508,4461,5588,1691,9666,5067],"./system/dictionaries/index.vue":[7412,9674,7815,4945,3699,5508,4461,5588,1691,741,2665,9666,7412,6043],"./system/resource/index.vue":[3052,9674,7815,4945,3699,5508,4461,5588,1491,7578,1691,741,8800,2665,9666,9934,4128,4786,3299,4381,9432,1753,7412,7742,2897,3166,9259,6670,5855,5524,3095],"./system/role/index.vue":[9432,9674,7815,4945,3699,5508,4461,5588,1691,741,2665,9934,9432,8899],"./test.vue":[7742,7742,886]};function o(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(s)},o.id=2385,e.exports=o},6381:function(e){"use strict";e.exports=cptable},8601:function(e){"use strict";e.exports=JSON.parse('[{"code":100,"message":"信息"},{"code":101,"message":"继续"},{"code":103,"message":"切换协议"},{"code":200,"message":"请求成功"},{"code":201,"message":"已创建"},{"code":202,"message":"已接受"},{"code":203,"message":"非授权信息"},{"code":204,"message":"无内容"},{"code":205,"message":"重置内容"},{"code":206,"message":"部分内容"},{"code":300,"message":"多种选择"},{"code":301,"message":"永久移动"},{"code":302,"message":"临时移动"},{"code":303,"message":"查看其它地址"},{"code":304,"message":"未修改"},{"code":305,"message":"使用代理"},{"code":307,"message":"临时重定向"},{"code":400,"message":"客户端请求的语法错误，服务器无法理解"},{"code":401,"message":"请求要求用户的身份认证"},{"code":403,"message":"拒绝访问"},{"code":404,"message":"无此接口"},{"code":405,"message":"客户端请求中的方法被禁止"},{"code":406,"message":"服务器无法根据客户端请求的内容特性完成请求"},{"code":407,"message":"请求要求代理的身份认证"},{"code":408,"message":"请求超时"},{"code":409,"message":"服务器处理请求时发生了冲突"},{"code":410,"message":"客户端请求的资源已经不存在"},{"code":411,"message":"服务器无法处理客户端发送的不带Content-Length的请求信息"},{"code":412,"message":"客户端请求信息的先决条件错误"},{"code":413,"message":"由于请求的实体过大，服务器无法处理，因此拒绝请求"},{"code":414,"message":"请求的URI过长,服务器无法处理"},{"code":415,"message":"服务器无法处理请求附带的媒体格式"},{"code":416,"message":"客户端请求的范围无效"},{"code":417,"message":"服务器无法满足Expect的请求头信息"},{"code":500,"message":"服务器错误"},{"code":501,"message":"服务未实现"},{"code":502,"message":"网关错误"},{"code":503,"message":"服务不可用"},{"code":504,"message":"网关超时"},{"code":505,"message":"HTTP版本不受支持"}]')},979:function(e){"use strict";e.exports=JSON.parse('["/overviews/plateform/*","/logon","/403","/404"]')},25:function(e){"use strict";e.exports=["/login"]},5335:function(e){"use strict";e.exports=JSON.parse('["/logon","/403","/404"]')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9674,2912,5888,2320,9278,2091,9744,3883,6347,6148,4147,9402,8895,2789,1911,8074,29,9750,8058,331,1720,1152,4753,5755,4998],(function(){return t(50)}));e.O()}]);