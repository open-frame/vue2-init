"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[6726,5376,2453,1226,2335],{86867:function(e,t,s){s.d(t,{JG:function(){return i},rd:function(){return a}});var o=s(30153),n=s.n(o),r=s(72219);function a(e,t){const s=[...r.Z.state.permissionButtons,...r.Z.state.permissionRouters];s.includes(t.value)||e.parentNode&&e.parentNode.removeChild(e)}function i(e,t){e.onclick=function(){if(!t.value&&!e.innerText)return;let s=document.createElement("textarea");s.readOnly="readonly",s.value=t.value||e.innerText,e.appendChild(s),s.select();const o=document.execCommand("Copy");o?n().success({duration:1800,title:"复制成功",message:s.value,type:"success"}):n().error({title:"错误",message:"复制失败"}),e.removeChild(s)}}},5376:function(e,t,s){s.d(t,{Jz:function(){return i},Wl:function(){return n},eL:function(){return a},hv:function(){return c},iS:function(){return l},oP:function(){return r}});s(57658);var o=s(92617);function n(e,t){return o.o.post("/select/box/selectBoxPoint",{codeType:e},t)}function r(e,t){return o.o.post("/system/dept/treeData",e,t)}async function a(e,t){const s=await o.o.post("/system/dept/treeData",e,t);let n=[];return 0===s.code&&function e(t){t.map((t=>{t.children&&e(t.children),n.push(t)}))}(s.data),n}function i(e,t){return o.o.post("/flow/monitor/getAssigneeList",e,t)}function l(){return o.o.get("/assetStake/getStationListByLoginUser")}function c(){return o.o.get("/system/user/add")}},44795:function(e,t,s){s.d(t,{Z:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",[t("el-header",{staticClass:"bg-white flex flex-items-center flex-justify-between shadow-sm"},[t("div",{staticClass:"text-truncate platform-name"},["3"!==e.$store.state.layout?t("i",{class:e.$store.state.isCollapse?"el-icon-s-unfold":"el-icon-s-fold",attrs:{title:e.$store.state.isCollapse?"展开菜单栏":"折叠菜单栏"},on:{click:e.isCollapse}}):e._e(),t("router-link",{staticClass:"text-primary fw-bold text-xl m-0",attrs:{to:"/"}},[e._v(e._s(e.title))])],1),"3"===e.$store.state.layout?t("nav-menu",{staticClass:"col-8 flex flex-justify-center border-none edo-menu",staticStyle:{"overflow-y":"hidden"},attrs:{mode:"horizontal",collapse:!1,"default-active":e.$store.state.nowPage,data:e.$store.state.permissionMenu}}):e._e(),t("div",{staticClass:"flex flex-justify-center flex-items-center info"},[t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.switchOrganization}},[e.$store.state.nowDept?t("span",{staticClass:"cursor-pointer"},[e._v(" "+e._s(e._f("filterdeptName")(e.$store.state.nowDept,e.organizations))+" ")]):t("span",{staticClass:"cursor-pointer"},[e._v(" "+e._s(e.$store.state.userInfo.deptName)+" ")]),t("el-dropdown-menu",{staticClass:"depts",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.organizations,(function(s){return t("el-dropdown-item",{key:s.deptCode,attrs:{command:s.deptCode}},[e._v(e._s(s.label))])})),1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("el-dropdown",{on:{command:e.me}},[t("span",{staticClass:"cursor-pointer text-truncate"},[e._v(" 欢迎，"+e._s(e.$store.state.userInfo.userName)+" ")]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/my/center",expression:"'/my/center'"}],attrs:{command:"1"}},[e._v("个人中心")]),t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/my/info",expression:"'/my/info'"}],attrs:{command:"2"}},[e._v("我的资料")]),t("el-dropdown-item",{attrs:{command:"0",divided:""}},[e._v("退出登录")])],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("el-dropdown",{on:{command:e.setings}},[t("span",{staticClass:"cursor-pointer"},[t("i",{staticClass:"el-icon-s-operation",attrs:{title:"平台设置"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$store.state.showOpenedPages?e._e():t("el-dropdown-item",{attrs:{command:"3",divided:""}},[e._v("显示页签")]),t("el-dropdown-item",{attrs:{command:"1"}},[e._v("切换布局")])],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("el-dropdown",{on:{command:e.helps}},[t("span",{staticClass:"cursor-pointer"},[t("i",{staticClass:"i-fa:question-circle-o",attrs:{"aria-hidden":"true",title:"帮助"}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"1"}},[e._v("使用帮助")]),t("a",{attrs:{href:"mailto:quanyi@edo-iot.com?subject=问题反馈"}},[t("el-dropdown-item",{attrs:{command:"2"}},[e._v(" 反馈问题 ")])],1),t("a",{attrs:{target:"_blank",href:e.VUE_APP_CLW_SERVICE}},[t("el-dropdown-item",{attrs:{command:"3"}},[e._v(" 在线客服 ")])],1),t("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"/test",expression:"'/test'"}],attrs:{divided:""}},[t("router-link",{attrs:{to:"/test"}},[e._v("测试页面")])],1)],1)],1),t("el-divider",{attrs:{direction:"vertical"}}),t("i",{class:e.isFullScreen?"i-fa:compress":"el-icon-full-screen",attrs:{title:e.isFullScreen?"退出全屏":"进入全屏"},on:{click:e.fullScreen}})],1)],1),t("layout-setting",{attrs:{show:e.showPageStructureDrawer},on:{close:function(t){e.showPageStructureDrawer=!1}}})],1)},n=[],r=s(23729),a=s.n(r),i=(s(57658),s(86867)),l=s(84524),c=s(5376),d={name:"",components:{"el-header":a(),NavMenu:l.Z,"layout-setting":()=>s.e(6367).then(s.bind(s,36367))},directives:{permission:i.rd},filters:{filterdeptName(e,t){return e&&t.length>0?t.find((t=>t.deptCode===e)).label:""}},data(){return{VUE_APP_CLW_SERVICE:"",title:"",menus:[],organizations:[],isFullScreen:!1,showPageStructureDrawer:!1}},created(){this.getOrganizationTree(),this.title="伊莎 · 车联网运营平台",this.VUE_APP_CLW_SERVICE="https://work.weixin.qq.com/kfid/kfc4fd7cae33c6448f9"},methods:{getOrganizationTree(){(0,c.eL)().then((e=>{this.organizations=e}))},switchOrganization(e){this.$store.commit("setNowDept",e)},isCollapse(){this.$store.commit("menUnfold",!this.$store.state.isCollapse)},me(e){switch(e){case"0":this.$store.commit("logout","0");break;case"1":this.$router.push("/my/center");break;case"2":this.$router.push("/my/info");break}},setings(e){switch(e){case"0":break;case"1":this.showPageStructureDrawer=!0;break;case"3":this.$store.commit("changeOpenedPages",!0);break}},fullScreen(){if(this.isFullScreen){this.isFullScreen=!1;const e=document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;if(t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){const e=new ActiveXObject("WScript.Shell");null!=e&&e.SendKeys("{F11}")}}else{this.isFullScreen=!0;const e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if(t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){const e=new ActiveXObject("WScript.Shell");null!=e&&e.SendKeys("{F11}")}}},helps(e){switch(e){case"1":break;case"2":this.$message.info("请留意启动的Email软件");break;case"3":break}}}},u=d,m=s(1001),p=(0,m.Z)(u,o,n,!1,null,"55aa9e2c",null),f=p.exports},69167:function(e,t,s){s.d(t,{Z:function(){return c}});var o=function(){var e=this,t=e._self._c;return e.$store.state.showOpenedPages?t("div",{staticClass:"flex flex-items-center page-tabs"},[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.click,"tab-remove":e.remove},model:{value:e.$store.state.nowPage,callback:function(t){e.$set(e.$store.state,"nowPage",t)},expression:"$store.state.nowPage"}},e._l(e.$store.state.openedPages,(function(e){return t("el-tab-pane",{key:e.meta.menuIdStr,attrs:{closable:"/"!==e.path,label:e.meta.menuName,name:e.meta.menuIdStr}})})),1),t("el-dropdown",{staticClass:"close-btn",attrs:{size:"small"},on:{command:e.handler}},[t("el-button",{attrs:{size:"mini"}},[e._v(" 关闭"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.$store.state.openedPages.length>2?t("el-dropdown-item",{attrs:{command:"1"}},[e._v("其他页面")]):e._e(),e.$store.state.openedPages.length>1?t("el-dropdown-item",{attrs:{command:"2"}},[e._v("全部页面")]):e._e(),t("el-dropdown-item",{attrs:{command:"0",divided:""}},[e._v("隐藏页签")])],1)],1)],1):e._e()},n=[],r=(s(57658),{name:"page-tabs",data(){return{}},methods:{click(e){let t=this.$store.state.openedPages[Number(e.index)].fullPath;this.$route.path!==t&&(this.$router.push(t),this.$store.commit("setDefaultPage",e.name))},remove(e){this.$store.commit("closeThisOpenedPages",e)},handler(e){switch(e){case"0":this.$store.commit("changeOpenedPages",!1);break;case"1":this.$store.commit("closePageTab","1");break;case"2":this.$store.commit("closePageTab","0");break}}}}),a=r,i=s(1001),l=(0,i.Z)(a,o,n,!1,null,"72bdd82c",null),c=l.exports}}]);