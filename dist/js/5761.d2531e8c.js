(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[5761,3399,8562,7504,3495,2617,8758],{44693:function(e,t,o){"use strict";o.d(t,{JN:function(){return s},Nx:function(){return r},cT:function(){return n}});var a=o(92617);function n(e,t){return a.o.post("/flow/monitor/myTask",e,t)}function r(e,t){return a.o.post("/flow/monitor/setTaskAssignee",e,t)}function s(e,t){return a.o.post("/flow/monitor/myCompletedTask",e,t)}},1845:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return h}});var a=o(63598),n=o(81018),r=o(67539),s=function(){var e=this,t=e._self._c;return t("el-card",[t(r.Z,{attrs:{loading:e.loading,btnSpan:20,getData:e.getData,queryReset:e.queryReset}},[t("el-col",{attrs:{span:4}},[t(n.Z,{attrs:{animatLable:""},on:{change:e.pageReset},model:{value:e.queryForm.processDefinitionKey,callback:function(t){e.$set(e.queryForm,"processDefinitionKey",t)},expression:"queryForm.processDefinitionKey"}})],1)],1),t("el-divider"),t(a.Z,{ref:"table",attrs:{name:"待办",loading:e.loading,total:e.total,data:e.tableData,height:"560","row-key":"orderId","page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum,derive:e.exporting},on:{"current-change":e.handleCurrentChange,"size-change":e.dataSizeChange},scopedSlots:e._u([{key:"columns",fn:function(){return[t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processInstanceId",label:"流程id"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processName",label:"流程名称"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"startTime",label:"流程开始时间"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskId",label:"任务id"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskName",label:"任务名称"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskCreateTime",label:"任务开始时间"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{plain:"",size:"mini",type:"primary"},on:{click:function(t){return e.check(o.row)}}},[e._v("审核")])]}}])})]},proxy:!0}])}),t(e.componentName,{ref:e.componentName,tag:"component",attrs:{params:e.componentParams,show:e.formDialog},on:{close:function(t){e.formDialog=!1},success:e.getData}})],1)},i=[],l=o(44693),c=o(30741),u={name:"my-panels-backlog",mixins:[c.I_,c.LI,c.oA,c.vd],data(){return{loading:!1,queryForm:{processDefinitionKey:"",pageSize:this.$tableDataSize,pageNum:1},tableData:[],total:0,taskId:"",componentName:"",formDialog:!1,componentParams:{}}},methods:{getData(){this.loading=!0,this.tableData=[],(0,l.cT)(this.queryForm).then((e=>{this.loading=!1,0===e.code&&(this.total=e.total,this.tableData=e.rows)})).catch((()=>{this.loading=!1}))},async check(e){if(e.formKey)try{this.componentName=e.formKey.replace("/","-"),this.$options.components[this.componentName]=()=>o(16030)(`./${e.formKey}.vue`),this.componentParams=e,this.formDialog=!0}catch(t){this.$message.info(`找不到 ${e.formKey} 资源，404`)}else this.$message.info("没有 formKey")},async exporting(e){let t={...this.queryForm};"2"===e&&(t.pageSize=this.total,t.pageNum=1);const o=await(0,l.cT)(t);if(0===o.code){const e=this.$refs.table.getColumns(),t=o.rows.map((t=>{let o=e.map((e=>[e.label,t[e.prop]]));return Object.fromEntries(o)}));return t}}}},m=u,p=o(1001),f=(0,p.Z)(m,s,i,!1,null,"8affeb2e",null),h=f.exports},16030:function(e,t,o){var a={"./stationRestore/complete.vue":[63224,3224,2335],"./stationRestore/execute.vue":[88983,8983,6050],"./stationRestore/process-info.vue":[84841,7937]};function n(e){if(!o.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],n=t[0];return Promise.all(t.slice(1).map(o.e)).then((function(){return o(n)}))}n.keys=function(){return Object.keys(a)},n.id=16030,e.exports=n}}]);