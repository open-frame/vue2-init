"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[7241],{47241:function(t,o,a){a.r(o),a.d(o,{default:function(){return c}});var e=a(63598),l=function(){var t=this,o=t._self._c;return o("el-dialog",{attrs:{"close-on-click-modal":!1,title:"审核记录","append-to-body":!0,"before-close":t.close,"modal-append-to-body":!1,visible:t.show}},[o(e.Z,{ref:"table",attrs:{loading:t.tableLoading,data:t.auditlogData,total:t.auditlogTotal,"max-height":"400","page-size":t.auditlogQueryForm.pageSize,"current-page":t.auditlogQueryForm.pageNum},on:{"size-change":t.auditLogsdataSizeChange,"current-change":t.auditLogshandleCurrentChange},scopedSlots:t._u([{key:"columns",fn:function(){return[o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作人",prop:"operationUser"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作时间",prop:"operationTime"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作角色",prop:"operationRole"}}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作状态",prop:"operationStatus"},scopedSlots:t._u([{key:"default",fn:function(o){return[t._v(" "+t._s(t._f("transfortext")(o.row.operationStatus,t.dropdowns.approveStatus))+" ")]}}])}),o("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"审核意见",prop:"advice"}})]},proxy:!0}])}),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.close}},[t._v("知道了")])],1)],1)},r=[],i=a(25335),s=a(5376),n=a(90886),u=a(30741),p={name:"",mixins:[u.oA],filters:{transfortext:n.h},props:{show:{type:Boolean,default:!1},clearNo:{type:String,require:!0}},watch:{show(t){t&&(this.auditlogQueryForm.clearNo=this.clearNo,this.getDropdowns(),this.getData())}},data(){return{tableLoading:!1,dropdowns:{approveStatus:[]},auditlogQueryForm:{clearNo:"",pageSize:this.$tableDataSize,pageNum:1},auditlogData:[],auditlogTotal:0}},methods:{getDropdowns(){(0,s.Wl)("426807").then((t=>{0===t.code&&(this.dropdowns.approveStatus=t.data)}))},getData(){this.tableLoading=!0,this.tableData=[],(0,i.Qx)(this.auditlogQueryForm).then((t=>{this.tableLoading=!1,0===t.code&&(this.auditlogData=t.rows,this.auditlogTotal=t.total)})).catch((()=>{this.tableLoading=!1}))},auditLogsdataSizeChange(t){this.auditlogQueryForm.pageSize=t,this.getData()},auditLogshandleCurrentChange(t){this.auditlogQueryForm.pageNum=t,this.getData()},close(){this.$emit("close",!1)}}},d=p,g=a(1001),h=(0,g.Z)(d,l,r,!1,null,"4dc77a6c",null),c=h.exports}}]);