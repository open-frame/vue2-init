"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[2294],{12294:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var o=a(63598),l=a(90649),r=a(67539),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-4"},[t(r.Z,{attrs:{btnSpan:20,getData:e.getData,queryReset:e.queryReset}},[t("el-col",{attrs:{span:4}},[t(l.Z,{attrs:{size:"medium",clearable:!1,type:"year","value-format":"yyyy",format:"yyyy",placeholder:"安装期","picker-options":e.pickerOptions},on:{change:e.pageReset},model:{value:e.queryForm.installTime,callback:function(t){e.$set(e.queryForm,"installTime",t)},expression:"queryForm.installTime"}})],1)],1),t("el-divider"),t(o.Z,{ref:"table",attrs:{name:e.queryForm.installTime+"安装率",total:e.total,data:e.tableData,height:"500","row-key":"applyNo","page-size":e.queryForm.pageSize,"current-page":e.queryForm.pageNum,derive:e.exporting},on:{"size-change":e.dataSizeChange,"current-change":e.handleCurrentChange},scopedSlots:e._u([{key:"columns",fn:function(){return[t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"months",label:"月份"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"maker",label:"厂家"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"producer",label:"产品"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"batch",label:"生产批次"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"buyNum",label:"购买数量"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"allNumber",label:"桩数量"}})]},proxy:!0}])})],1)},n=[],i=a(89176),p=a(30741),u={name:"",mixins:[p.LI,p.I_,p.oA,p.vd],data(){return{pickerOptions:{disabledDate(e){return e.getTime()>Date.now()}},queryForm:{installTime:"",pageSize:10,pageNum:1},tableData:[],total:0}},watch:{"queryForm.installTime"(e){this.queryForm.installTime=e}},methods:{getData(){(0,i.go)(this.queryForm).then((e=>{0===e.code&&(this.tableData=e.rows,this.total=e.total)}))},async exporting(e){let t={...this.queryForm};"2"===e&&(t.pageSize=this.total,t.pageNum=1);const a=await(0,i.go)(t);if(0===a.code){const e=this.$refs.table.getColumns(),t=a.rows.map((t=>{let a=e.map((e=>[e.label,t[e.prop]]));return Object.fromEntries(a)}));return t}}}},m=u,c=a(1001),h=(0,c.Z)(m,s,n,!1,null,"3f720734",null),y=h.exports}}]);