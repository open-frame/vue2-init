"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[7937],{84841:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=s(63598),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center"},[e("div",[e("div",{staticClass:"fs-6 fw-bold text-start"},[t._v("审批信息")]),e(a.Z,{ref:"table",attrs:{size:"mini",data:t.tableData},scopedSlots:t._u([{key:"columns",fn:function(){return[e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"processInstanceId",label:"流程实例id"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"durationTime",label:"任务耗时"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"checkStatus",label:"审核状态"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"assigneeName",label:"审批人"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskName",label:"任务名称"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"startTime",label:"开始时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"endTime",label:"结束时间"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"checkReason",label:"审批意见"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"taskId",label:"任务id"}})]},proxy:!0}])})],1),e("img",{attrs:{src:t.processImg,alt:"流程图",srcset:""}})])},l=[],r=s(83693),n={name:"",data(){return{tableData:[],processImg:""}},props:{params:{type:Object,required:!0}},watch:{params:{immediate:!0,handler(t,e){this.clearnData(),t.processInstanceId&&t.taskId&&this.getData()}}},methods:{getData(){this.getHistory(),this.openProsess()},getHistory(){(0,r.B0)({processInstanceId:this.params.processInstanceId}).then((t=>{0===t.code&&(this.tableData=t.data)}))},openProsess(){(0,r.IR)({processInstanceId:this.params.processInstanceId}).then((t=>{const e=new Blob([t]);this.processImg=URL.createObjectURL(e)}))},clearnData(){this.info={},this.tableData=[],this.processImg=""}}},p=n,c=s(1001),i=(0,c.Z)(p,o,l,!1,null,"57ab946e",null),h=i.exports}}]);