"use strict";(self["webpackChunkiov_platform"]=self["webpackChunkiov_platform"]||[]).push([[1879],{1879:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{height:"510px"},attrs:{id:"stations-map"}}),e.$listeners["current-change"]?t("el-pagination",{staticClass:"text-end mt-3",attrs:{"page-sizes":[e.$tableDataSize,50,100,150,200],"page-size":e.pageSize,disabled:e.loading,"current-page":e.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.dataSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)},s=[],r=(a(57658),{name:"map-stations",data(){return{aMap:null,markers:[]}},mounted(){this.aMap=new AMap.Map("stations-map")},props:{show:{type:Boolean,default:!1},data:{type:Array,default(){return[]}},loading:{type:Boolean,default:!1},total:{type:Number,default:0},pageSize:{type:Number,default(){return this.$tableDataSize}},currentPage:{type:Number,default(){return 1}}},watch:{data(e){e&&this.creatMarker()},show(e){e&&this.creatMarker()}},methods:{creatMarker(){this.aMap.remove(this.markers);const e=this;this.$nextTick((()=>{const t=new AMap.InfoWindow({offset:new AMap.Pixel(0,-28)});e.data.map((a=>{const n=new AMap.Marker({map:e.aMap,position:a.latAndLng.split(",")});e.markers.push(n),n.on("mouseover",(n=>{t.setContent(`\n                <h4>${a.stationName}</h4>\n                <h6>${a.stationNo}</h6>\n                <div class="flex flex-justify-between flex-items-center">\n                  <span class="text-warmgray ">运营时间</span>\n                  <span class="ms-3">${a.operationTime}</span>\n                </div>\n                <div class="flex flex-justify-between flex-items-center">\n                  <span class="text-warmgray ">负责人</span>\n                  <span class="ms-3">${a.leader}</span>\n                </div>\n                <div class="flex flex-justify-between flex-items-center">\n                  <span class="text-warmgray ">联系方式</span>\n                  <span class="ms-3">${a.phone}</span>\n                </div>\n             `),t.open(e.aMap,n.target.getPosition())})),n.on("mouseout",(function(){t.close()})),n.on("click",(()=>{e.$router.push({path:"/property/power-stations/detail",query:a})}))})),setTimeout((()=>{e.aMap.setFitView()}),300)}))},dataSizeChange(e){this.$emit("size-change",e)},handleCurrentChange(e){this.$emit("current-change",e)}}}),i=r,p=a(1001),o=(0,p.Z)(i,n,s,!1,null,"77d4acbe",null),l=o.exports}}]);