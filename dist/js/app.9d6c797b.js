(self["webpackChunkedo_project"]=self["webpackChunkedo_project"]||[]).push([[2143],{3258:function(e,t,o){"use strict";var n=o(7195),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[];const a=o(8568),i=o(1299);function l(){for(let e of a)c(e);for(let e of i)u(e)}function c(e=""){return new Promise(((t,o)=>{const n=document.querySelectorAll("script");let s=!1;for(let r of n)r.src===e&&(s=!0);if(!s){let n=document.createElement("script");n.setAttribute("defer",""),n.type="module",n.src=e,document.body.appendChild(n),n.onload=()=>{t()},n.onerror=()=>{c(e),o()}}}))}function u(e=""){return new Promise(((t,o)=>{const n=document.querySelectorAll("link");let s=!1;for(let r of n)r.href===e&&(s=!0);if(!s){let n=document.createElement("link");n.rel="stylesheet",n.href=e,document.head.appendChild(n),n.onload=()=>{t()},n.onerror=()=>{u(e),o()}}}))}l();var p={name:"App",created(){this.getRouters()},mounted(){switch(performance.navigation.type){case 0:break;case 1:break}},watch:{"$store.state.userInfo"(e){Object.keys(e).length&&this.microAppStart()},"$store.state.openedPages":{deep:!0,handler(e){this.includeKeepAlivePages=e.map((e=>e.name))}}},methods:{getRouters(){const e=localStorage.getItem("token");e&&this.$store.dispatch("routers").then((e=>{0===e.code&&(this.$store.commit("setRouters",e.data),this.$store.commit("setMenu",e.data),this.getUserInfo())}))},getUserInfo(){this.$store.dispatch("userInfo").then((e=>{0===e.code&&this.$store.commit("setUserInfo",e.data)}))},async microAppStart(){const e=this.$store.state.permissionMenu.length>0,t=this.$store.state.userInfo,n=localStorage.getItem("token");if(n&&e&&t.userName){const e=await Promise.all([o.e(4734),o.e(5886)]).then(o.bind(o,5886));e.microAppStart()}}}},m=p,d=o(1001),h=(0,d.Z)(m,s,r,!1,null,null,null),g=h.exports,f=o(8854),y=o(4441),v=o(5114),w=o.n(v),b=function(){var e=this,t=e._self._c;return t("div",{},[t("div",{staticClass:"d-flex justify-content-between align-items-center"},[t("div",[t("el-button-group",[e._t("left")],2),e.$listeners.exporting?t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.exporting}},[t("el-button",{attrs:{size:e.size}},[e._v(" 导出"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"1"}},[e._v("导出本页")]),t("el-dropdown-item",{attrs:{command:"2"}},[e._v("导出全部")])],1)],1):e._e(),e.$listeners.printing?t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.printing}},[t("el-button",{attrs:{size:e.size}},[e._v(" 打印"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"1"}},[e._v("打印本页")]),t("el-dropdown-item",{attrs:{command:"2"}},[e._v("打印全部")])],1)],1):e._e()],1),t("div",{},[e._t("right")],2)]),t("el-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{size:e.size,data:e.data,border:e.border,"row-key":e.rowKey,"empty-text":e.emptyText,"reserve-selection":e.reserveSelection,"show-summary":e.showSummary,"summary-method":e.summaryMethod,"tooltip-effect":"dark","highlight-current-row":"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"row-click":e.rowClick,select:e.select,"select-all":e.selectAll,"selection-change":e.selectionChange}},"el-table",e._d({},[e.olyHeight,e.height||e.maxHeight||"400"])),[e.showSelection?t("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",fixed:"left",selectable:e.selecteisDisabled}}):e._e(),e.showIndex?t("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.pageSize*(e.pageNum-1)+(t.$index+1))+" ")]}}],null,!1,1814014007)}):e._e(),e._t("columns")],2),e.$listeners["current-change"]?t("el-pagination",{staticClass:"text-end mt-3",attrs:{"page-sizes":[e.$tableDataSize,20,30,50],"page-size":e.pageSize,disabled:e.loading,"current-page":e.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.dataSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)},P=[],k={name:"edo-table",data(){return{}},props:{loading:{type:Boolean,default:!1},size:{type:String,default:"small"},emptyText:{type:String},border:{type:Boolean,default:!0},rowKey:{type:[String,Number],default:""},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},data:{type:Array,default:()=>[]},total:{type:Number,default:0},pageNum:{type:Number,default:1},pageSize:{type:Number,default(){return this.$tableDataSize}},currentPage:{type:Number,default(){return this.pageNum}},showIndex:{type:Boolean,default:!1},showSummary:{type:Boolean,default:!1},summaryMethod:{type:Function,default:()=>()=>{}},reserveSelection:{type:Boolean,default:!1},selecteisDisabled:{type:Function,default:()=>()=>{}}},watch:{data(e,t){const o=this;this.$nextTick((()=>{o.$refs.table.doLayout()}))}},computed:{showSelection(){return this.$listeners["select"]||this.$listeners["selection-change"]},olyHeight(){return this.height?"height":(this.maxHeight,"max-height")}},methods:{dataSizeChange(e){this.$emit("size-change",e)},handleCurrentChange(e){this.$emit("current-change",e)},select(e,t){this.$emit("select",e,t)},selectionChange(e){this.$emit("selection-change",e)},selectAll(e){this.$emit("select-all",e)},clearSelection(){this.$refs.table.clearSelection()},toggleAllSelection(){this.$refs.table.toggleAllSelection()},toggleRowSelection(e=[],t=!0){this.$refs.table.toggleRowSelection(e,t)},setCurrentRow(e){this.$refs.table.setCurrentRow(e)},rowClick(e,t,o){this.$emit("row-click",e)},exporting(e){this.$emit("exporting",e)},printing(e){this.$emit("printing",e)},doLayout(){this.$refs.table.doLayout()}}},x=k,S=(0,d.Z)(x,b,P,!1,null,"0ce18562",null),Z=S.exports,$=o(6795);y.Z.beforeEach(((e,t,o)=>{const n=localStorage.getItem("token");if(!n&&"/logon"!==e.path)return f.Z.commit("logout","1");const s=f.Z.state.permissionRouters;if(!s.includes(e.path))return o({path:"/404"});o()})),y.Z.afterEach(((e,t)=>{f.Z.commit("setOpenedPages",{fullPath:e.fullPath,meta:e.meta,name:e.name,path:e.path}),f.Z.commit("setDefaultPage",e.meta.id),f.Z.commit("setPermissionButtons",e.meta.permissions),f.Z.commit("changeLayout","0"===e.meta.menuType?"0":f.Z.state.layout)}));const N=navigator.connection;function _(e){f.Z.commit("setIsOnline",e.type)}N.addEventListener("change",(()=>{f.Z.commit("setNetNow",N.effectiveType)})),window.addEventListener("online",_),window.addEventListener("offline",_);const C=n["default"].prototype.$on;n["default"].prototype.$on=function(e,t){let o=t;if("click"===e){let e,n=!0;o=function(){n&&(t.apply(this,arguments),n=!1),clearTimeout(e),e=setTimeout((function(){n=!0}),800)}}C.call(this,e,o)},n["default"].use(w()),n["default"].config.productionTip=!1,n["default"].prototype.$tableDataSize=15,n["default"].prototype.$publicAPI=$.Z,n["default"].component(Z.name,Z),new n["default"]({el:"#app",store:f.Z,router:y.Z,render:e=>e(g),template:"<App/>"}).$mount("#app")},4441:function(e,t,o){"use strict";o.d(t,{Z:function(){return i}});var n=o(7195),s=o(2241);const r=[{path:"/404",name:"page-404",component:()=>Promise.all([o.e(7671),o.e(2093)]).then(o.bind(o,7671)),meta:{title:"无此页",id:"page-404"}},{path:"/logon",name:"page-login",component:()=>Promise.all([o.e(4050),o.e(1833)]).then(o.bind(o,4050)),meta:{title:"账号登录",id:"page-login"}},{path:"/",name:"main-file",component:()=>Promise.all([o.e(5825),o.e(5521)]).then(o.bind(o,5825)),redirect:"/home",children:[{path:"/overviews/plateform*",component:()=>Promise.all([o.e(1187),o.e(4369)]).then(o.bind(o,1187)),meta:{menuType:"0"}}]}];var a=[...r];n["default"].use(s.ZP);var i=new s.ZP({base:"init-vue-project",routes:a})},7558:function(e,t,o){"use strict";var n=o(8358),s=o(5114),r=o(8854);const a=o(25);n.Z.defaults.baseURL="/init-vue-project/",n.Z.defaults.headers={"Content-Type":"application/json; charset=utf-8"},n.Z.interceptors.request.use((e=>{if(a.includes(e.url))return e;const t=localStorage.getItem("token");return t?e.headers["Authorization"]="Bearer "+t:r.Z.commit("logout","1"),e}),(e=>Promise.reject(e))),n.Z.interceptors.response.use((e=>(e.data.hasOwnProperty("code")&&(2001===e.data.code&&"/logon"!==location.pathname&&r.Z.commit("logout","1"),0!==e.data.code&&s.Message.error(e.data.msg)),e.data)),(e=>{switch(e.response.status){case 302:s.Message.error("302：重定向");break;case 400:s.Message.error("400：请求错误");break;case 401:s.Message.error("401：登陆过期");break;case 403:s.Message.error("403：拒绝访问");break;case 404:s.Message.error("404：无此接口");break;case 408:s.Message.error("408：请求超时");break;case 500:s.Message.error("500：服务器错误");break;case 501:s.Message.error("501：服务未实现");break;case 502:s.Message.error("502：网关错误");break;case 503:s.Message.error("503：服务不可用");break;case 504:s.Message.error("504：网关超时");break;case 505:s.Message.error("505：HTTP版本不受支持");break;default:s.Message.error("服务失败");break}return Promise.reject(e)})),t["Z"]=n.Z},6795:function(e,t,o){"use strict";o(7658);var n=o(7558);t["Z"]={dropdowns:(e,t)=>n.Z.post("/select/box/selectBoxPoint",{codeType:e},t),organizationTree:(e,t)=>n.Z.post("/system/dept/treeData",e,t),async organizationList(e,t){const o=await n.Z.post("/system/dept/treeData",e,t);let s=[];return function e(t){t.map((t=>{t.children&&e(t.children),s.push(t)}))}(o),s},allRoles:(e,t)=>n.Z.post("/system/allRoles",e,t),warehouses:(e,t)=>n.Z.post("/system/warehouses",e,t)}},8854:function(e,t,o){"use strict";o.d(t,{Z:function(){return g}});var n=o(7195),s=o(408);const r=o(5335);var a={nowNet:"",onLine:"",layout:"1",userInfo:{},permissionMenu:[],permissionRouters:r,permissionButtons:[],permissionPublic:[],isCollapse:!0,showOpenedPages:!0,openedPages:[],nowPage:""},i=(o(7658),o(4441));const l=o(5335),c=o(6989);var u={setIsOnline(e,t){e.onLine=t},setNetNow(e,t){e.nowNet=t},setUserInfo(e,t){e.userInfo=t},changeLayout(e,t){e.layout=t},setMenu(e,t){let o=t.filter((e=>!["F","1"].includes(e.menuType)));function n(e){const t=[...e];return t.filter((e=>{let o=t.filter((t=>e.menuId===t.parentId));return e.children=o.length>0?o:[],0===e.parentId}))}e.permissionMenu=n(o)},setRouters(e,t){let n=[];const s=t.filter((t=>{if(""!==t.url)return n.push(t.perms),e.permissionPublic=n,t}));e.permissionRouters=l,e.permissionRouters.push(...s.map((e=>e.url))),e.permissionRouters=[...new Set(e.permissionRouters)];const r=s.map((e=>{let t;try{t=()=>o(2385)(`./${e.remark}.vue`)}catch(n){t=()=>Promise.all([o.e(7671),o.e(2093)]).then(o.bind(o,7671))}return{path:e.url,name:e.remark.replace(/\//g,"-"),component:t,meta:{...e,title:e.menuName,id:e.menuIdStr,permissions:e.children.map((e=>{if("F"===e.menuType)return{...e,title:e.menuName,id:e.menuIdStr}}))}}}));i.Z.addRoute({path:"/",name:"main-file",component:()=>Promise.all([o.e(5825),o.e(5521)]).then(o.bind(o,5825)),redirect:"/home",children:r})},setPermissionButtons(e,t){if(t){let o=[];(function e(t){t.map((t=>{t.children&&e(t.children),o.push(t.perms)}))})(t),e.permissionButtons=o}},menUnfold(e,t){e.isCollapse=t},logout(e,t="0"){sessionStorage.clear(),localStorage.clear(),"0"===t&&(e.openedPages=[e.openedPages[0]]),location.href=`/logon?previous=${"0"===t?"":location.pathname+location.search}`},changeOpenedPages(e,t){e.showOpenedPages=t},setOpenedPages(e,t){t.path&&!c.includes(t.path)&&(e.openedPages.some((e=>e.path===t.path))||e.openedPages.push(t))},setDefaultPage(e,t){e.nowPage=t},closeThisOpenedPages(e,t){const o=e.openedPages,n=i.Z.history.current;o.forEach(((s,r)=>{if(s.meta.id!==t);else{e.openedPages.splice(r,1);const t=o[o.length-1].path;n.meta.id===s.meta.id&&i.Z.push(t)}}))},closePageTab(e,t){const o=i.Z.history.current;switch(e.openedPages=[e.openedPages[0]],t){case"0":"/home"!==o.path&&i.Z.replace("/home");break;case"1":"/home"!==o.path&&(e.openedPages=[e.openedPages[0],{title:o.meta.title,path:o.path,meta:o.meta}]);break}}},p=o(7558),m={routers:(e,t)=>p.Z.get("/service/demo/routers.json",e,t),userInfo(e,t){return p.Z.get("/service/demo/user-info.json",e,t)}},d=o(4968);n["default"].use(s.ZP);const h=new d.ZP({key:"operation-storage"});var g=new s.ZP.Store({state:a,mutations:u,actions:m,plugins:[h.plugin]})},2385:function(e,t,o){var n={"./404.vue":[7671,7671,2093],"./building.vue":[8121,8121,7252],"./file-preview/index.vue":[860,860],"./home/components/panels-manage.vue":[7809,7809,6525],"./home/index.vue":[3686,7578,6098,2411,3686,4837],"./home/panels/new-users.vue":[2411,2411,3382],"./home/panels/users-withdraw.vue":[6098,6098,2544],"./login/index.vue":[4050,4050,1833],"./main.vue":[5825,5825,5521],"./management/operation/index.vue":[798,7815,4945,3699,5508,6283,6342,798,685],"./my/components/affairs/backlog.vue":[5864,7815,4945,3699,5508,6283,5864,3910],"./my/components/affairs/components/stationRestore/complete.vue":[4976,4976,6461],"./my/components/affairs/components/stationRestore/execute.vue":[5923,5923,4287],"./my/components/affairs/components/stationRestore/process-info.vue":[3145,3145],"./my/components/affairs/finished.vue":[6610,7815,4945,3699,5508,6283,6610,9458],"./my/components/affairs/index.vue":[4973,4973],"./my/components/my-memo/index.vue":[355,355],"./my/components/my-trends/index.vue":[729,729],"./my/index.vue":[1039,1039],"./my/info.vue":[738,738],"./overviews/plateform/index.vue":[1187,1187,4369],"./print/index.vue":[4681,6342,4681],"./rich-editor/index.vue":[7641,7641],"./system/dictionaries/components/list.vue":[2791,2791],"./system/dictionaries/index.vue":[5262,7815,4945,3699,5508,6283,2791,5262,9844],"./system/resource/index.vue":[3676,7815,4945,3699,5508,7578,6283,6342,2791,4976,7809,6098,2411,4050,8121,798,7671,5298,5262,3686,6610,9292,5864,3145,5923,1187,860,4681,5825,1039,1035],"./system/role/index.vue":[5298,7815,4945,3699,5508,6283,6342,5298,8802],"./test.vue":[9292,9292]};function s(e){if(!o.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],s=t[0];return Promise.all(t.slice(1).map(o.e)).then((function(){return o(s)}))}s.keys=function(){return Object.keys(n)},s.id=2385,e.exports=s},6381:function(e){"use strict";e.exports=cptable},1299:function(e){"use strict";e.exports=JSON.parse('["https://unpkg.com/animate.css@4.1.1/animate.css","https://unpkg.com/bootstrap-icons@1.5.0/font/bootstrap-icons.css","https://unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css","https://unpkg.com/print-js@1.6.0/dist/print.css"]')},8568:function(e){"use strict";e.exports=JSON.parse('["https://unpkg.com/compressorjs@1.2.1","https://unpkg.com/print-js@1.6.0"]')},6989:function(e){"use strict";e.exports=JSON.parse('["/logon","/404","/home"]')},25:function(e){"use strict";e.exports=JSON.parse('["/service/demo/login.json"]')},5335:function(e){"use strict";e.exports=JSON.parse('["/logon","/404","/"]')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[2912,5888,9674,9278,2091,5588,9744,3883,6347,6148,4147,9402,8895,2789,132,1911,8074,29,9750,8058,331,1720,1152,4753,5755,4998],(function(){return t(3258)}));e.O()}]);